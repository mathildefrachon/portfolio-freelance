{"version":3,"sources":["js/subpage.js"],"names":["index","urlParams","get","imgIndex","images","document","querySelector","addEventListener","clickedImages","imgArray","length","activeDot","querySelectorAll","forEach","dot","classList","remove","console","log","src","url","add","nextProject","previousProject","closeInfos","thisIndex","currentArray","findIndex","pr","wpid","nextIndex","cat","newUrl","activeFilter","setAttribute","openInfos","img_container","infos_container","infos","window","innerWidth","setTimeout","style","opacity"],"mappings":"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","file":"subpage.75add7d0.map","sourceRoot":"..","sourcesContent":["\"use strict\";\n// import {\n//   urlParams,\n//   currentArray,\n//   cat,\n//   activeFilter,\n//   imgArray\n// } from \"./index.js\";\n\n// get the index of the project from the url\nlet index = urlParams.get(\"index\");\nlet imgIndex = 1;\n// let image = document.querySelector(\"img\");\nconst images = document.querySelector(\".project--img__sub\");\n\n// CLICK ON IMG\nimages.addEventListener(\"click\", clickedImages);\n\nfunction clickedImages() {\n  if (imgIndex >= imgArray.length) {\n    imgIndex = 0;\n  } else {\n  }\n  let activeDot = document.querySelector(\"#\" + \"dot\" + imgIndex);\n  document.querySelectorAll(\".point\").forEach(dot => {\n    dot.classList.remove(\"dotActive\");\n  });\n\n  if (imgIndex >= imgArray.length) {\n    console.log(\"go back to first main img\");\n    images.src = imgArray[0].url;\n    imgIndex = 0;\n  } else {\n    images.src = imgArray[imgIndex].url;\n    imgIndex++;\n  }\n  activeDot.classList.add(\"dotActive\");\n}\n\n/* NEXT AND PREVIOUS PROJECT */\n\ndocument\n  .querySelector(\".buttons--sub__next\")\n  .addEventListener(\"click\", nextProject);\n\ndocument\n  .querySelector(\".buttons--sub__previous\")\n  .addEventListener(\"click\", previousProject);\n\nfunction nextProject() {\n  console.log(\"next\");\n  closeInfos();\n  const thisIndex = currentArray.findIndex(pr => pr.wpid == index);\n  console.log(thisIndex);\n  let nextIndex = thisIndex + 1;\n  // RETURN AT THE BEGINNING\n  if (nextIndex >= currentArray.length) {\n    nextIndex = 0;\n  }\n  // IF CAT THEN NEXT WITHIN CAT\n  if (cat) {\n    console.log(\"we have a category:\" + cat);\n    let newUrl =\n      \"subpage.html?index=\" +\n      currentArray[nextIndex].wpid +\n      \"&category=\" +\n      activeFilter;\n    console.log(newUrl);\n    document.querySelector(\".buttons--sub__next\").setAttribute(\"href\", newUrl);\n  } else {\n    let newUrl = \"subpage.html?index=\" + currentArray[nextIndex].wpid;\n    document.querySelector(\".buttons--sub__next\").setAttribute(\"href\", newUrl);\n  }\n}\n\nfunction previousProject() {\n  console.log(\"previous\");\n  closeInfos();\n  const thisIndex = currentArray.findIndex(pr => pr.wpid == index);\n  let nextIndex = thisIndex - 1;\n  console.log(nextIndex);\n  // RETURN AT THE BEGINNING\n  if (nextIndex < 0) {\n    nextIndex = currentArray.length - 1;\n  }\n  // IF CAT THEN NEXT WITHIN CAT\n  if (cat) {\n    console.log(\"we have a category:\" + cat);\n    let newUrl =\n      \"subpage.html?index=\" +\n      currentArray[nextIndex].wpid +\n      \"&category=\" +\n      activeFilter;\n    console.log(newUrl);\n    document\n      .querySelector(\".buttons--sub__previous\")\n      .setAttribute(\"href\", newUrl);\n  } else {\n    let newUrl = \"subpage.html?index=\" + currentArray[nextIndex].wpid;\n    console.log(newUrl);\n    document\n      .querySelector(\".buttons--sub__previous\")\n      .setAttribute(\"href\", newUrl);\n  }\n}\n\n/* DISPLAY INFOS - OPEN CLOSE MENU INFOS */\n\ndocument\n  .querySelector(\".buttons--sub__plus\")\n  .addEventListener(\"click\", openInfos);\ndocument\n  .querySelector(\".buttons--cross__sub--infos\")\n  .addEventListener(\"click\", closeInfos);\n\nconst img_container = document.querySelector(\".project--wrapper__sub\");\nconst infos_container = document.querySelector(\".project--infos__sub\");\nconst infos = document.querySelector(\".infos__sub\");\nconsole.log(infos_container);\n\nfunction openInfos() {\n  console.log(\"plus infos\");\n\n  //for desktop\n  if (window.innerWidth > 1000) {\n    infos_container.classList.remove(\"width0\");\n    infos_container.classList.add(\"extend-side\");\n    img_container.classList.remove(\"extend\");\n    img_container.classList.add(\"shorter\");\n\n    setTimeout(function() {\n      infos.classList.remove(\"opacity\");\n    }, 500);\n  }\n\n  //for mobile\n  else if (window.innerWidth < 1000) {\n    console.log(\"onMobile\");\n    infos_container.classList.remove(\"width0\");\n    infos_container.classList.add(\"extendMobileInfos\");\n    document.querySelector(\".buttons--cross__sub--infos\").style.opacity = \"1\";\n\n    setTimeout(function() {\n      infos.classList.remove(\"opacity\");\n    }, 500);\n  }\n}\n\nfunction closeInfos() {\n  console.log(\"close infos\");\n\n  //for desktop\n  if (window.innerWidth > 1000) {\n    infos.classList.add(\"opacity\");\n\n    setTimeout(function() {\n      infos_container.classList.add(\"width0\");\n      infos_container.classList.remove(\"extend-side\");\n      img_container.classList.add(\"extend\");\n      img_container.classList.remove(\"shorter\");\n    }, 500);\n  }\n\n  //for mobile\n  if (window.innerWidth < 1000) {\n    console.log(\"on Mobile\");\n\n    infos.classList.add(\"opacity\");\n\n    setTimeout(function() {\n      infos_container.classList.add(\"width0\");\n      infos_container.classList.remove(\"extendMobileInfos\");\n      document.querySelector(\"#crossI\").style.opacity = \"0\";\n    }, 500);\n  }\n}\n"]}